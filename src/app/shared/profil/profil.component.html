<div class="row" style="height:10%"></div>
<div class="row">
  <div class="col-3"></div>
  <div class="col-6">
    <nb-card status="primary">
      <nb-card-header>
        <div class="text-center">
          <h2 mat-dialog-title>Modifier son compte</h2>
        </div>

      </nb-card-header>
      <nb-card-body>
        <mat-dialog-content>
          <form novalidate [formGroup]="form">

            <table class="full-width" cellspacing="0">
              <tr>
                <td>
                  <mat-form-field class="full-width" [class.mgb15]="form.get('username').dirty && form.get('username').invalid">
                    <input matInput placeholder="Nom d'utilisateur" formControlName="username" minlength="2" required name="username" />
                    <mat-error *ngIf="form.get('username').dirty && form.get('username').hasError('required')">
                      Avoir un nom d'utilisateur est <strong>obligatoire</strong>
                    </mat-error>
                    <mat-error *ngIf="form.get('username').dirty && form.get('username').hasError('minlength')">
                      Le nom d'utilisateur doit faire au <strong>minimum 2 lettres</strong>
                    </mat-error>
                  </mat-form-field>

                  <mat-form-field class="full-width">
                    <input matInput placeholder="Mot de passe" formControlName="password" minlength="8" required name="password" />
                    <mat-error *ngIf="form.get('password').dirty && form.get('password').hasError('required')">
                      Avoir un mot de passe est <strong>obligatoire</strong>
                    </mat-error>
                    <mat-error *ngIf="form.get('password').dirty && form.get('password').hasError('minlength')">
                      Un mot de passe doit faire au minimum <strong>8 caract√®res</strong>
                    </mat-error>
                  </mat-form-field>
                </td>
              </tr>
            </table>
            <mat-form-field class="full-width">
              <input matInput placeholder="Email" formControlName="mail" required name="mail" />
              <mat-error *ngIf="form.get('mail').dirty && form.get('mail').hasError('required')">
                Avoir un mail est <strong>obligatoire</strong>
              </mat-error>
              <mat-error *ngIf="form.get('mail').dirty && !form.get('mail').hasError('required') && form.get('mail').hasError('emailValidator')">
                Le mail est  <strong>invalide</strong> (ex: nom.prenom@gmail.com)
              </mat-error>
            </mat-form-field>
          </form>
        </mat-dialog-content>

        <mat-dialog-actions align="end">
          <button mat-button type="button" [routerLink]="['/home']">Annuler</button>
          <button mat-button color="primary" type="submit" (click)="submit(form.value)" [disabled]="form.invalid">Modifier mon compte</button>
          <button mat-button color="primary" type="submit" (click)="delete()">Supprimer mon compte</button>
        </mat-dialog-actions>
      </nb-card-body>
    </nb-card>

  </div>
</div>
